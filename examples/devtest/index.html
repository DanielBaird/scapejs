<html>
<head>
    <title>scape.js dev test</title>
    <style>
        body {
            margin: 0;
            background: #fff;
            font: 500 14px/21px 'Helvetica Neue', sans-serif;
        }
        #time {
            text-align: center;
            padding: 0.5em;
            background: #eee;
        }
        #container {
            width: 95%;
            height: 90%;
            margin: 1em auto;
        }
    </style>
</head>
<body>
    <div id="time"></div>
    <div id="container"></div>

    <script src="../lib/jquery-2.1.1.min.js"></script>
    <script src="../lib/three.js"></script>
    <script src="../lib/OrbitControls.js"></script>
    <script src="../lib/scape.js"></script>
    <script>
        var f = new Scape.Field({
            // minX:  0, maxX: 100,
            // minY:  0, maxY: 100,
            // minZ:  0, maxZ: 40
            minX:  200, maxX: 300,
            minY:  -50, maxY:  50,
            minZ: -100, maxZ: -60,

            blocksX: 11,
            blocksY: 11,
            blocksZ: 10
        });

        f.addGroundHeights([
            { x: 210, y: -40, z: -90 },
            { x: 210, y:  40, z: -60 },
            { x: 250, y:  20, z: -70 },
            { x: 270, y:  15, z: -80 },
            { x: 290, y: -40, z: -70 },
            { x: 299, y: -49, z: -80 },
            { x: 290, y:  40, z: -70 }
        ]);

        f.addGroundStacks([{
                x: 210, y: -40, stack:[
                    [Scape.Stuff.leaflitter, 3],
                    [Scape.Stuff.dirt0, 3.5],
                    [Scape.Stuff.dirt4, 2],
                    [Scape.Stuff.dirt9, 2],
                    [Scape.Stuff.water, 0]
                ]
            },{
                x: 290, y: 10, stack:[
                    [Scape.Stuff.leaflitter, 0.1],
                    [Scape.Stuff.dirt2, 1],
                    [Scape.Stuff.dirt6, 4],
                    [Scape.Stuff.dirt8, 0]
                ]
            }
        ]);

        // update the time div when the hour changes
        var currentHour = '';
        var timeStr = '';

        var s = new Scape.Scene(f, 'container', {
            currentDate: 'now',  // either string 'now' or a Date object
            timeRatio: 5000, // how many times faster than normal?
            dateUpdate: function(date) {
                // update the time display
                var hr = date.getHours();
                if (hr != currentHour) {
                    timeStr = ((hr - 1) % 12 + 1) + (hr > 12 ? 'pm' : 'am');
                    if (timeStr == '0am') timeStr = 'midnight'
                    if (timeStr == '12am') timeStr = 'noon'
                    $('#time').text(timeStr);
                    currentHour = hr;
                }
            }
        });

    </script>

<script type="text/javascript">
    window.heap=window.heap||[],heap.load=function(t,e){window.heap.appid=t,window.heap.config=e;var a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src=("https:"===document.location.protocol?"https:":"http:")+"//cdn.heapanalytics.com/js/heap.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(a,n);for(var o=function(t){return function(){heap.push([t].concat(Array.prototype.slice.call(arguments,0)))}},p=["clearEventProperties","identify","setEventProperties","track","unsetEventProperty"],c=0;c<p.length;c++)heap[p[c]]=o(p[c])};
    heap.load("1614221764");
</script>
</body>
</html>